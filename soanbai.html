<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<title id="pageTitle">So·∫°n th·∫£o b√†i vi·∫øt</title>
<style>
/* ========================================================= */
/* === C√ÅC THAY ƒê·ªîI C∆† B·∫¢N V√Ä L√ÄM N·ªîI B·∫¨T TRANG CHI TI·∫æT === */
/* ========================================================= */
body {font-family: Arial; max-width: 900px; margin: auto; padding: 20px;}
h1 {color: #0a7f99;}
label {display: block; font-weight: bold; margin-top: 15px;}
select, input[type="text"] {width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ccc; box-sizing: border-box; border-radius: 4px;}
#toolbar {margin-top: 10px; padding: 10px; border: 1px solid #ccc; background: #f0f0f0; border-radius: 4px; display: flex; flex-wrap: wrap; align-items: center;} 
#toolbar button, #toolbar select {padding: 5px 10px; margin: 3px; cursor: pointer; border: 1px solid #aaa; background: #fff; border-radius: 3px;}
#content-area {
    border: 1px solid #ccc; 
    padding: 10px; 
    min-height: 300px; 
    margin-top: 5px; 
    background: #fff; 
    line-height: 1.6; 
    text-align: justify; 
    max-height: 500px; 
    overflow-y: auto;
}
/* FIX L·ªñI KHO·∫¢NG C√ÅCH: ƒê·∫£m b·∫£o ƒëo·∫°n vƒÉn ƒë·∫ßu ti√™n kh√¥ng c√≥ margin-top */
#content-area p:first-child { 
    margin-top: 0; 
}

button {padding: 10px 15px; margin-top: 15px; cursor: pointer; border: none; border-radius: 4px; font-weight: bold; transition: background 0.3s;}
button:nth-of-type(1) {background: #2ecc71; color: white;} /* N√∫t L∆∞u */
button:nth-of-type(2) {background: #3498db; color: white;} /* N√∫t Xem DS */
#delete-list {margin-top: 30px; border: 1px solid #ddd; padding: 15px; border-radius: 4px; background: #fff;}
#delete-list h2 {color: #0a3a5a; margin-top: 0;}
.post-item {display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px dashed #eee;}
.post-item:last-child {border-bottom: none;}
.post-item button {margin: 0 5px; padding: 5px 10px; font-weight: normal;}
.edit-btn {background: #f39c12; color: white;}
.delete-btn {background: #e74c3c; color: white;}
.file-upload-section {margin-top: 15px; padding: 15px; border: 1px solid #eee; border-radius: 4px; background: #f9f9f9;}
#backup-restore-section {margin-top: 30px; padding: 20px; border: 2px solid #0a7f99; border-radius: 8px; background: #e7f5fa;}
.backup-btn {background: #9b59b6 !important; color: white;}
.restore-btn {background: #34495e !important; color: white;}
</style>
<script>
// --- ADMIN ACCESS CONTROL (GI·ªÆ NGUY√äN) ---
const ADMIN_PASSWORD = "Cong@khuyen!7785"; // M·∫≠t kh·∫©u qu·∫£n tr·ªã
const HOMEPAGE_URL = "index.html"; // Th·ªëng nh·∫•t trang ch·ªß

function checkAdmin() {
    return sessionStorage.getItem('isAdmin') === 'true';
}

function setAdminSession() {
    const password = prompt("Vui l√≤ng nh·∫≠p m·∫≠t kh·∫©u qu·∫£n tr·ªã:");
    if (password === ADMIN_PASSWORD) {
        sessionStorage.setItem('isAdmin', 'true');
        return true;
    } else if (password !== null) {
        alert("M·∫≠t kh·∫©u sai.");
    }
    return false;
}
// --- END ADMIN ACCESS CONTROL ---

// KI·ªÇM TRA QUY·ªÄN TRUY C·∫¨P TRANG SO·∫†N TH·∫¢O (GI·ªÆ NGUY√äN)
if (!checkAdmin()) {
    alert("B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ truy c·∫≠p trang so·∫°n th·∫£o.");
    if (setAdminSession()) {
        location.reload(); 
    } else {
        location.href=HOMEPAGE_URL;
    }
}

// L·∫•y ID b√†i vi·∫øt t·ª´ URL n·∫øu ƒëang ·ªü ch·∫ø ƒë·ªô ch·ªânh s·ª≠a
const urlParams = new URLSearchParams(location.search);
const postIdToEdit = urlParams.get('id');

// =================================================================
// === C√ÅC H√ÄM ƒê·ªäNH D·∫†NG (GI·ªÆ NGUY√äN) ===
// =================================================================
function formatText(command, value = null) {
    document.execCommand(command, false, value);
    document.getElementById('content-area').focus();
}

/**
 * H√†m m·ªõi: Th·ª•t ƒë·∫ßu d√≤ng 1cm (Ch·ªâ d√≤ng ƒë·∫ßu ti√™n c·ªßa ƒëo·∫°n vƒÉn)
 */
function indentFirstLine() {
    // 1. L·∫•y v√πng ch·ªçn hi·ªán t·∫°i
    const selection = window.getSelection();
    if (!selection.rangeCount) return;

    // 2. T√¨m th·∫ª block cha g·∫ßn nh·∫•t (P ho·∫∑c DIV)
    let node = selection.getRangeAt(0).startContainer;
    if (node.nodeType === 3) { // Node.TEXT_NODE
        node = node.parentNode;
    }

    let blockEl = node;
    while(blockEl && blockEl.id !== 'content-area' && blockEl.nodeType === 1) {
        // Ch·ªâ √°p d·ª•ng cho th·∫ª P ho·∫∑c DIV
        if (blockEl.tagName === 'P' || blockEl.tagName === 'DIV') {
            break;
        }
        blockEl = blockEl.parentNode;
    }

    // 3. √Åp d·ª•ng/H·ªßy style text-indent cho blockEl
    if (blockEl && blockEl.id !== 'content-area') {
        // N·∫øu ƒë√£ c√≥ 1cm th√¨ chuy·ªÉn v·ªÅ 0 (b·ªè t·ª•t ƒë·∫ßu d√≤ng)
        if (blockEl.style.textIndent === '1cm') {
            blockEl.style.textIndent = '0'; 
        } else {
            // Ng∆∞·ª£c l·∫°i, √°p d·ª•ng 1cm
            blockEl.style.textIndent = '1cm'; 
        }
    }
    
    document.getElementById('content-area').focus();
}

/**
 * H√†m c≈©: √Åp d·ª•ng kho·∫£ng c√°ch d√≤ng (line-height)
 */
function setLineHeight(value) {
    // T·ªëi ∆∞u h√≥a: T√¨m th·∫ª cha P ho·∫∑c DIV ƒë·ªÉ √°p d·ª•ng line-height
    const selection = window.getSelection();
    if (!selection.rangeCount) return;

    let parentEl = selection.focusNode;
    while(parentEl && parentEl.contentEditable !== 'true') {
        if (parentEl.tagName === 'P' || parentEl.tagName === 'DIV') {
            parentEl.style.lineHeight = value;
            document.getElementById('content-area').focus();
            return;
        }
        parentEl = parentEl.parentNode;
    }
    
    // N·∫øu kh√¥ng t√¨m th·∫•y th·∫ª cha P/DIV, c·ªë g·∫Øng d√πng execCommand
    // (L·ªánh n√†y th∆∞·ªùng kh√¥ng ho·∫°t ƒë·ªông t·ªët tr√™n m·ªçi tr√¨nh duy·ªát)
    document.execCommand('insertHTML', false, `<span style="line-height: ${value};">${selection.toString()}</span>`);
    document.getElementById('content-area').focus();
}

function insertTable() {
    // H·ªèi ng∆∞·ªùi d√πng s·ªë h√†ng v√† s·ªë c·ªôt
    const rows = prompt("Nh·∫≠p s·ªë h√†ng:", 3);
    const cols = prompt("Nh·∫≠p s·ªë c·ªôt:", 3);
    
    if (rows && cols) {
        let tableHtml = '<table border="1" style="width:100%; border-collapse: collapse; margin: 10px 0;"><tbody>';
        for (let i = 0; i < parseInt(rows); i++) {
            tableHtml += '<tr>';
            for (let j = 0; j < parseInt(cols); j++) {
                tableHtml += `<td style="padding: 8px; border: 1px solid #ccc;">√î ${i + 1}-${j + 1}</td>`;
            }
            tableHtml += '</tr>';
        }
        tableHtml += '</tbody></table>';
        document.execCommand('insertHTML', false, tableHtml);
    }
}

function insertImage() {
    const fileInput = document.getElementById('contentImageFile');
    fileInput.click();
    fileInput.onchange = function(e) {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(event) {
                // Ch√®n ·∫£nh v√†o contenteditable area
                document.execCommand('insertHTML', false, `<img src="${event.target.result}" style="max-width:100%; height:auto; display: block; margin: 10px auto;" alt="H√¨nh ·∫£nh b√†i vi·∫øt">`);
            };
            reader.readAsDataURL(file);
        }
    };
}

function insertLink() {
    const url = prompt("Nh·∫≠p URL:");
    if (url) {
        document.execCommand('createLink', false, url);
    }
}


// =================================================================
// === LOGIC L∆ØU V√Ä T·∫¢I D·ªÆ LI·ªÜU (GI·ªÆ NGUY√äN) ===
// =================================================================

/**
 * H√†m ƒë·ªçc file v√† chuy·ªÉn th√†nh Base64
 */
function fileToBase64(file) {
    return new Promise((resolve, reject) => {
        if (!file) return resolve(null);
        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = () => resolve(reader.result);
        reader.onerror = error => reject(error);
    });
}

/**
 * L∆∞u b√†i vi·∫øt v√†o LocalStorage
 */
async function savePost() {
    const title = document.getElementById('title').value;
    const shortDescription = document.getElementById('shortDescription').value;
    const category = document.getElementById('category').value;
    const content = document.getElementById('content-area').innerHTML;
    
    const imageFile = document.getElementById('image').files[0]; // File input
    const thumbnailUrl = document.getElementById('thumbnailUrl').value.trim(); // URL input

    const documentFile = document.getElementById('documentFile').files[0];

    if (!title || !content || !category) {
        alert("Vui l√≤ng ƒëi·ªÅn Ti√™u ƒë·ªÅ, N·ªôi dung v√† Chuy√™n m·ª•c.");
        return;
    }

    const currentId = document.getElementById('postId').value || Date.now();
    let posts = JSON.parse(localStorage.getItem("posts") || "[]");
    let post = posts.find(p => p.id == currentId);
    
    // X·ª≠ l√Ω ·∫£nh ƒë·∫°i di·ªán (∆Øu ti√™n URL, sau ƒë√≥ m·ªõi ƒë·∫øn Base64)
    let finalThumbnail = post ? post.thumbnail : ''; // L·∫•y gi√° tr·ªã c≈©

    if (thumbnailUrl) {
        // ∆ØU TI√äN 1: N·∫øu ng∆∞·ªùi d√πng nh·∫≠p URL, s·ª≠ d·ª•ng URL ƒë√≥.
        finalThumbnail = thumbnailUrl;
    } else if (imageFile) {
        // ∆ØU TI√äN 2: N·∫øu ng∆∞·ªùi d√πng ch·ªçn file v√† kh√¥ng c√≥ URL, l∆∞u Base64 (cho local preview)
        finalThumbnail = await fileToBase64(imageFile);
    } 

    // X·ª≠ l√Ω file t√†i li·ªáu
    let fileBase64 = post ? post.fileData : '';
    let fileName = post ? post.fileName : '';
    let fileMimeType = post ? post.fileMimeType : '';
    
    if (documentFile) {
        fileBase64 = await fileToBase64(documentFile);
        fileName = documentFile.name;
        fileMimeType = documentFile.type;
    }

    // L·∫•y s·ªë li·ªáu Like/Dislike c≈© (ho·∫∑c 0 n·∫øu l√† b√†i m·ªõi)
    let likes = post ? post.likes || 0 : 0;
    let dislikes = post ? post.dislikes || 0 : 0;

    const newPost = {
        id: currentId,
        title: title,
        shortDescription: shortDescription,
        category: category,
        content: content,
        date: post ? post.date : new Date().toLocaleString('vi-VN'),
        thumbnail: finalThumbnail, // ƒê√£ ƒë∆∞·ª£c x·ª≠ l√Ω
        fileData: fileBase64,
        fileName: fileName,
        fileMimeType: fileMimeType,
        likes: likes, // Gi·ªØ nguy√™n s·ªë li·ªáu c≈©
        dislikes: dislikes // Gi·ªØ nguy√™n s·ªë li·ªáu c≈©
    };


    if (post) {
        // Ch·ªânh s·ª≠a b√†i vi·∫øt
        posts = posts.map(p => p.id == currentId ? newPost : p);
        alert("ƒê√£ c·∫≠p nh·∫≠t b√†i vi·∫øt th√†nh c√¥ng!");
    } else {
        // T·∫°o b√†i vi·∫øt m·ªõi
        posts.push(newPost);
        alert("ƒê√£ l∆∞u b√†i vi·∫øt m·ªõi th√†nh c√¥ng!");
    }

    localStorage.setItem("posts", JSON.stringify(posts));
    location.href = HOMEPAGE_URL; // Quay l·∫°i trang ch·ªß sau khi l∆∞u/c·∫≠p nh·∫≠t
}

/**
 * T·∫£i b√†i vi·∫øt v√†o form khi ch·ªânh s·ª≠a
 */
function loadPostForEdit(id) {
    const posts = JSON.parse(localStorage.getItem("posts") || "[]");
    const post = posts.find(p => p.id == id);
    
    if (!post) {
        alert("B√†i vi·∫øt kh√¥ng t·ªìn t·∫°i!");
        location.href = 'soanbai.html';
        return;
    }

    document.getElementById('postId').value = post.id;
    document.getElementById('title').value = post.title;
    document.getElementById('shortDescription').value = post.shortDescription;
    document.getElementById('category').value = post.category;
    document.getElementById('content-area').innerHTML = post.content;
    document.getElementById('saveButton').innerText = "C·∫≠p nh·∫≠t b√†i vi·∫øt";
    document.getElementById('pageTitle').innerText = "Ch·ªânh s·ª≠a b√†i vi·∫øt";
    
    // C·∫≠p nh·∫≠t URL ·∫£nh ƒë·∫°i di·ªán n·∫øu l√† URL
    const thumbnailUrlInput = document.getElementById('thumbnailUrl');
    // Ki·ªÉm tra n·∫øu gi√° tr·ªã thumbnail kh√¥ng ph·∫£i l√† Base64 (chu·ªói b·∫Øt ƒë·∫ßu b·∫±ng "data:")
    if (post.thumbnail && !post.thumbnail.startsWith("data:")) {
        thumbnailUrlInput.value = post.thumbnail;
    } else {
        thumbnailUrlInput.value = ''; // N·∫øu l√† base64, ƒë·ªÉ tr·ªëng √¥ URL
    }
    
    // Hi·ªÉn th·ªã th√¥ng tin file ƒë√≠nh k√®m hi·ªán t·∫°i
    const fileInfoDiv = document.getElementById('currentFileInfo');
    if (post.fileName) {
        fileInfoDiv.innerHTML = `File hi·ªán t·∫°i: <strong>${post.fileName}</strong>. (Ch·ªçn file m·ªõi ƒë·ªÉ thay th·∫ø)`;
    } else {
        fileInfoDiv.innerHTML = 'Ch∆∞a c√≥ file t√†i li·ªáu ƒë√≠nh k√®m.';
    }
}

/**
 * X√≥a b√†i vi·∫øt kh·ªèi LocalStorage
 */
function deletePost(id) {
    if (confirm("B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a b√†i vi·∫øt n√†y kh√¥ng?")) {
        let posts = JSON.parse(localStorage.getItem("posts") || "[]");
        posts = posts.filter(p => p.id != id);
        localStorage.setItem("posts", JSON.stringify(posts));
        loadDeleteList(); // T·∫£i l·∫°i danh s√°ch sau khi x√≥a
    }
}

/**
 * T·∫£i danh s√°ch b√†i vi·∫øt ƒë·ªÉ S·ª≠a/X√≥a
 */
function loadDeleteList() {
    const posts = JSON.parse(localStorage.getItem("posts") || "[]");
    const listDiv = document.getElementById("delete-list-content");
    listDiv.innerHTML = '';
    
    if (posts.length === 0) {
        listDiv.innerHTML = '<p>Kh√¥ng c√≥ b√†i vi·∫øt n√†o ƒë∆∞·ª£c l∆∞u tr·ªØ c·ª•c b·ªô.</p>';
        return;
    }

    posts.sort((a, b) => b.id - a.id) // B√†i m·ªõi nh·∫•t l√™n ƒë·∫ßu
          .forEach(p => {
        listDiv.innerHTML += `
            <div class="post-item">
                <span>[${p.category.toUpperCase()}] <strong>${p.title}</strong> - <small>${p.date}</small></span>
                <div>
                    <button onclick="location.href='soanbai.html?id=${p.id}'" class="edit-btn">‚úç S·ª≠a</button>
                    <button onclick="deletePost(${p.id})" class="delete-btn">üóë X√≥a</button>
                </div>
            </div>`;
    });
}


// =================================================================
// === LOGIC SAO L∆ØU V√Ä PH·ª§C H·ªíI D·ªÆ LI·ªÜU (GI·ªÆ NGUY√äN) ===
// =================================================================

/**
 * Xu·∫•t d·ªØ li·ªáu LocalStorage th√†nh file posts_data.json (Bao g·ªìm c·∫£ s·ªë li·ªáu Like/Dislike)
 */
function backupPosts() {
    // 1. L·∫§Y D·ªÆ LI·ªÜU B√ÄI VI·∫æT HI·ªÜN T·∫†I T·ª™ LOCAL STORAGE C·ª¶A ADMIN
    let exportPosts = JSON.parse(localStorage.getItem("posts") || "[]");

    if (exportPosts.length === 0) {
        alert("Kh√¥ng c√≥ b√†i vi·∫øt n√†o ƒë·ªÉ sao l∆∞u.");
        return;
    }
    
    // 2. L·∫§Y D·ªÆ LI·ªÜU LIKE/DISLIKE T·∫†M TH·ªúI T·ª™ LOCAL STORAGE C·ª¶A NG∆Ø·ªúI D√ôNG
    const tempReactions = JSON.parse(localStorage.getItem('posts_data_temp') || '{}');
    
    // 3. H·ª¢P NH·∫§T D·ªÆ LI·ªÜU
    exportPosts = exportPosts.map(post => {
        if (tempReactions[post.id]) {
            post.likes = tempReactions[post.id].likes;
            post.dislikes = tempReactions[post.id].dislikes;
        }
        post.likes = post.likes || 0;
        post.dislikes = post.dislikes || 0;
        return post;
    });

    // 4. CHUY·ªÇN TH√ÄNH JSON V√Ä T·∫¢I XU·ªêNG
    const fileName = `posts_data.json`; 
    
    const blob = new Blob([JSON.stringify(exportPosts, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = fileName;
    document.body.appendChild(a);
    a.click();
    
    document.body.removeChild(a);
    URL.revokeObjectURL(url);

    // 5. X√ìA D·ªÆ LI·ªÜU T·∫†M TH·ªúI SAU KHI XU·∫§T (ƒë√£ ƒë∆∞·ª£c l∆∞u v√†o file JSON)
    localStorage.removeItem('posts_data_temp');

    alert("ƒê√£ xu·∫•t file posts_data.json th√†nh c√¥ng! B∆Ø·ªöC CU·ªêI C√ôNG L√Ä PH·∫¢I T·∫¢I FILE N√ÄY L√äN HOST C·ª¶A B·∫†N (GitHub, Netlify...) ƒë·ªÉ c·∫≠p nh·∫≠t b√†i vi·∫øt v√† s·ªë li·ªáu Like/Dislike vƒ©nh vi·ªÖn.");
}

/**
 * Ph·ª•c h·ªìi d·ªØ li·ªáu t·ª´ file JSON ƒë√£ ch·ªçn v√†o LocalStorage
 */
function restorePosts() {
    const fileInput = document.getElementById('restoreFile');
    const file = fileInput.files[0];

    if (!file) {
        alert("Vui l√≤ng ch·ªçn file JSON ƒë·ªÉ ph·ª•c h·ªìi.");
        return;
    }

    const reader = new FileReader();
    reader.onload = function(e) {
        try {
            const data = JSON.parse(e.target.result);
            if (Array.isArray(data) && data.every(p => p.id && p.title && p.content)) {
                localStorage.setItem("posts", JSON.stringify(data));
                alert("Ph·ª•c h·ªìi d·ªØ li·ªáu th√†nh c√¥ng! Trang s·∫Ω t·∫£i l·∫°i.");
                location.reload();
            } else {
                alert("C·∫•u tr√∫c file JSON kh√¥ng h·ª£p l·ªá.");
            }
        } catch (error) {
            alert("L·ªói khi x·ª≠ l√Ω n·ªôi dung file JSON.");
        }
        fileInput.value = ''; // Reset input
    };
    reader.readAsText(file);
}

// Ch·∫°y c√°c h√†m c·∫ßn thi·∫øt khi trang t·∫£i xong
window.onload = function() {
    // Ch·ªâ t·∫£i danh s√°ch s·ª≠a/x√≥a sau khi ƒëƒÉng nh·∫≠p th√†nh c√¥ng
    if (checkAdmin()) {
        loadDeleteList();
        if (postIdToEdit) {
            loadPostForEdit(postIdToEdit);
        }
    }
};

</script>
</head>
<body>

<h1>SO·∫†N TH·∫¢O B√ÄI VI·∫æT</h1>

<input type="hidden" id="postId" value="">

<label for="title">Ti√™u ƒë·ªÅ</label>
<input type="text" id="title">

<label for="shortDescription">M√¥ t·∫£ ng·∫Øn (Kho·∫£ng 200 k√Ω t·ª±)</label>
<input type="text" id="shortDescription">

<label for="category">Chuy√™n m·ª•c</label>
<select id="category">
    <option value="baiviet">B√†i vi·∫øt</option>
    <option value="tintuc">Tin t·ª©c & Ho·∫°t ƒë·ªông</option>
    <option value="tailieu">T√†i li·ªáu</option>
    <option value="gioithieu">Gi·ªõi thi·ªáu (√≠t d√πng)</option>
</select>

<label>N·ªôi dung</label>

<input type="file" id="contentImageFile" accept="image/*" style="display:none;">

<div id="toolbar">
  <select onchange="formatText('fontName', this.value)">
    <option value="">Ph√¥ng ch·ªØ</option>
    <option value="Arial">Arial</option>
    <option value="Verdana">Verdana</option>
    <option value="Times New Roman">Times New Roman</option>
  </select>
  
  <select onchange="formatText('fontSize', this.value)">
    <option value="">C·ª° ch·ªØ</option>
    <option value="2">Nh·ªè (10pt)</option>
    <option value="3">V·ª´a (12pt)</option>
    <option value="4">L·ªõn (14pt)</option>
    <option value="5">R·∫•t l·ªõn (18pt)</option>
    <option value="6">C·ª±c l·ªõn (24pt)</option>
  </select>

  <select onchange="setLineHeight(this.value)">
    <option value="1.6">K.c√°ch d√≤ng</option>
    <option value="1.2">1.2 (√≠t)</option>
    <option value="1.5">1.5 (v·ª´a)</option>
    <option value="2.0">2.0 (l·ªõn)</option>
  </select>

  <button onclick="formatText('justifyLeft')">Tr√°i</button>
  <button onclick="formatText('justifyCenter')">Gi·ªØa</button>
  <button onclick="formatText('justifyRight')">Ph·∫£i</button>
  <button onclick="formatText('justifyFull')">ƒê·ªÅu</button>
  
  <button onclick="formatText('outdent')">‚Üê B·ªè L·ªÅ Kh·ªëi</button> 
  <button onclick="formatText('indent')">‚Üí Th·ª•t L·ªÅ Kh·ªëi</button>
  
  <button onclick="indentFirstLine()">T·ª•t ƒë·∫ßu d√≤ng 1cm</button>
  
  <button onclick="insertTable()">Ch√®n B·∫£ng</button>
  <button onclick="insertImage()">Ch√®n ·∫£nh</button>
  <button onclick="insertLink()">Ch√®n Link</button>
  
  <button onclick="formatText('bold')">B</button>
  <button onclick="formatText('italic')">I</button>
  <button onclick="formatText('underline')">U</button>
</div>

<div id="content-area" contenteditable="true">
  B·∫Øt ƒë·∫ßu so·∫°n th·∫£o n·ªôi dung t·∫°i ƒë√¢y...
</div>

<div class="file-upload-section">
    <label for="thumbnailUrl" style="font-weight: bold; color: #c0392b;">URL ·∫¢nh ƒê·∫°i Di·ªán C√¥ng Khai (∆Øu ti√™n cho chia s·∫ª)</label>
    <input type="text" id="thumbnailUrl" placeholder="V√≠ d·ª•: /images/post-1234.jpg">

    <p class="warning-share" style="color: #c0392b; font-size: 13px; margin-top: 5px; margin-bottom: 5px; padding: 5px 10px; border: 1px solid #f9caca; background-color: #fff0f0; border-radius: 4px;">
        ‚ö†Ô∏è **QUAN TR·ªåNG:** N·∫øu b·∫°n ƒëi·ªÅn URL ·ªü tr√™n, h·ªá th·ªëng s·∫Ω ∆∞u ti√™n l∆∞u URL n√†y v√†o file JSON. N·∫øu kh√¥ng c√≥ URL, b·∫°n c√≥ th·ªÉ T·∫¢I FILE T·ª™ M√ÅY L√äN ƒë·ªÉ xem tr∆∞·ªõc c·ª•c b·ªô (nh∆∞ng s·∫Ω kh√¥ng hi·ªÉn th·ªã khi chia s·∫ª Zalo/Facebook).
    </p>

    <label for="image" style="margin-top: 10px;">Ho·∫∑c T·∫£i file ·∫£nh (ch·ªâ ƒë·ªÉ xem tr∆∞·ªõc c·ª•c b·ªô)</label>
    <input type="file" id="image" accept="image/*">
    <label for="documentFile" style="font-weight: bold; color: #0a7f99; margin-top: 25px;">T·ªáp T√†i li·ªáu (PDF, Word...) - Ch·ªâ d√†nh cho Chuy√™n m·ª•c "T√†i li·ªáu"</label>
    <div id="currentFileInfo" style="margin-bottom: 8px; font-style: italic;"></div>
    <input type="file" id="documentFile" accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx">
</div>

<button onclick="savePost()" id="saveButton">L∆∞u b√†i</button>

<button onclick="location.href = HOMEPAGE_URL">Trang ch·ªß</button>

<div id="backup-restore-section">
    <h3>Sao l∆∞u & Ph·ª•c h·ªìi D·ªØ li·ªáu</h3>
    <button onclick="backupPosts()" class="backup-btn">üíæ Xu·∫•t D·ªØ li·ªáu (Sao l∆∞u)</button>
    <input type="file" id="restoreFile" style="display:none;" accept=".json" onchange="restorePosts()">
    <button onclick="document.getElementById('restoreFile').click()" class="restore-btn">üîÑ Nh·∫≠p D·ªØ li·ªáu (Ph·ª•c h·ªìi)</button>
    <p style="font-size: 12px; color: red; margin-top: 10px;">L∆ØU √ù: N·∫øu b·∫°n mu·ªën b√†i vi·∫øt xu·∫•t hi·ªán c√¥ng khai tr√™n Internet, b·∫°n B·∫ÆT BU·ªòC ph·∫£i t·∫£i file **posts_data.json** (v·ª´a xu·∫•t) l√™n HOST sau khi ho√†n th√†nh m·ªçi ch·ªânh s·ª≠a.</p>
</div>

<div id="delete-list">
    <h2>Danh s√°ch B√†i vi·∫øt ƒë√£ L∆∞u C·ª•c B·ªô</h2>
    <div id="delete-list-content">
        <p>ƒêang t·∫£i danh s√°ch...</p>
    </div>
</div>

</body>

</html>